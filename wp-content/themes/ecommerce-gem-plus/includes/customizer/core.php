<?php
/**
 * Core functions.
 *
 * @package eCommerce_Gem
 */

global $ecommerce_gem_google_fonts;

$ecommerce_gem_google_fonts = array(
    'Open+Sans:400,400italic,600,700' => 'Open Sans',
    'Roboto:400,500,300,700,400italic' => 'Roboto',
    'Lato:400,300,400italic,900,700' => 'Lato',
    'Barlow:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i' => 'Barlow',
    'Slabo+27px' => 'Slabo 27px',
    'Domine:400,700' => 'Domine',
    'Oswald:400,300,700' => 'Oswald',
    'Roboto+Condensed:400,300,400italic,700' => 'Roboto Condensed',
    'Source+Sans+Pro:400,400italic,600,900,300' => 'Source Sans Pro',
    'Lora:400,400italic,700,700italic' => 'Lora',
    'Montserrat:300,400,500,600,700' => 'Montserrat',
    'PT+Sans:400,400italic,700' => 'PT Sans',
    'Open+Sans+Condensed:300,300italic,700' => 'Open Sans Condensed',
    'Raleway:400,300,500,600,700,900' => 'Raleway',
    'Droid+Sans:400,700' => 'Droid Sans',
    'Ubuntu:400,400italic,500,700' => 'Ubuntu',
    'Droid+Serif:400,400italic,700' => 'Droid Serif',
    'Roboto+Slab:400,300,700' => 'Roboto Slab',
    'Arimo:400,400italic,700' => 'Arimo',
    'Merriweather:400,400italic,300,900,700' => 'Merriweather',
    'PT+Sans+Narrow:400,700' => 'PT Sans Narrow',
    'Poiret+One' => 'Poiret One',
    'Noto +Sans:400,400italic,700' => 'Noto Sans',
    'Titillium+Web:400,300,400italic,700,900' => 'Titillium Web',
    'PT+Serif:400,400italic,700' => 'PT Serif',
    'Bitter:400,400italic,700' => 'Bitter',
    'Indie+Flower' => 'Indie Flower',
    'Yanone+Kaffeesatz:400,300,700' => 'Yanone Kaffeesatz',
    'Dosis:400,300,600,800' => 'Dosis',
    'Arvo:400,400italic,700' => 'Arvo',
    'Lobster' => 'Lobster',
    'Cabin:400,400italic,500,600,700' => 'Cabin',
    'Fjalla+One' => 'Fjalla One',
    'Oxygen:400,300,700' => 'Oxygen',
    'Playfair+Display:400,400italic,700,900' => 'Playfair Display',
    'Noto +Serif:400,400italic,700' => 'Noto Serif',
    'Hind:400,300,600,700' => 'Hind',
    'Muli:400,300italic,300' => 'Muli',
    'Nunito:400,300,700' => 'Nunito',
    'Bree+Serif' => 'Bree Serif',
    'Abel' => 'Abel',
    'Vollkorn:400,400italic,700' => 'Vollkorn',
    'Inconsolata:400,700' => 'Inconsolata',
    'Francois+One' => 'Francois One',
    'Archivo+Narrow:400,400italic,700' => 'Archivo Narrow',
    'Ubuntu+Condensed' => 'Ubuntu Condensed',
    'Josefin+Sans:400,600,700,400italic' => 'Josefin Sans',
    'Fira+Sans:400,500' => 'Fira Sans',
    'Signika:400,300,700' => 'Signika',
    'Libre+Baskerville:400,400italic,700' => 'Libre Baskerville',
    'Cuprum:400,400italic' => 'Cuprum',
    'Play:400,700' => 'Play',
    'Pacifico' => 'Pacifico',
    'Shadows+Into+Light' => 'Shadows Into Light',
    'Asap:400,400italic,700' => 'Asap',
    'Alegreya:400,400italic,700,900' => 'Alegreya',
    'Maven+Pro:400,500,700,900' => 'Maven Pro',
    'Exo +2:400,300,400italic,600,700,900' => 'Exo 2',
    'Sigmar+One' => 'Sigmar One',
    'Merriweather+Sans:400,400italic,700,800' => 'Merriweather Sans',
    'Crimson+Text:400,400italic,600,700' => 'Crimson Text',
    'Anton' => 'Anton',
    'Rokkitt:400,700' => 'Rokkitt',
    'Karla:400,400italic,700' => 'Karla',
    'Quicksand:400,700' => 'Quicksand',
    'Andada' => 'Andada',
    'Varela+Round' => 'Varela Round',
    'Bangers' => 'Bangers',
    'Righteous' => 'Righteous',
    'PT+Sans+Caption:400,700' => 'PT Sans Caption',
    'Dancing+Script:400,700' => 'Dancing Script',
    'Monda:400,700' => 'Monda',
    'Exo:400,300,400italic,600,800' => 'Exo',
    'Abril+Fatface' => 'Abril Fatface',
    'Pathway+Gothic+One' => 'Pathway Gothic One',
    'Questrial' => 'Questrial',
    'Josefin+Slab:400,400italic,700,600' => 'Josefin Slab',
    'Istok+Web:400,400italic,700' => 'Istok Web',
    'Patua+One' => 'Patua One',
    'News+Cycle:400,700' => 'News Cycle',
    'BenchNine:400,700' => 'BenchNine',
    'Ropa+Sans:400,400italic' => 'Ropa Sans',
    'Crete+Round:400,400italic' => 'Crete Round',
    'Covered+By+Your+Grace' => 'Covered By Your Grace',
    'Hammersmith+One' => 'Hammersmith One',
    'Quattrocento+Sans:400,700,400italic' => 'Quattrocento Sans',
    'Pontano+Sans' => 'Pontano Sans',
    'Fredoka+One' => 'Fredoka One',
    'EB+Garamond' => 'EB Garamond',
    'Old+Standard +TT:400,400italic,700' => 'Old Standard TT',
    'Noticia+Text:400,400italic,700' => 'Noticia Text',
    'Kaushan+Script' => 'Kaushan Script',
    'Voltaire' => 'Voltaire',
    'ABeeZee:400,400italic' => 'ABeeZee',
    'Comfortaa:400,300,700' => 'Comfortaa',
    'Russo+One' => 'Russo One',
    'Cinzel:400,700,900' => 'Cinzel',
    'Sanchez:400,400italic' => 'Sanchez',
    'Lobster+Two:400,700,700italic' => 'Lobster Two',
    'Alfa+Slab+One' => 'Alfa Slab One',
    'Passion+One:400,700,900' => 'Passion One',
    'Cantarell:400,400italic,700' => 'Cantarell',
    'Tinos:400,400italic,700' => 'Tinos',
    'Lateef' => 'Lateef',
    'Archivo+Black' => 'Archivo Black',
    'Cabin+Condensed:400,500,600,700' => 'Cabin Condensed',
    'Satisfy' => 'Satisfy',
    'Bevan' => 'Bevan',
    'Economica:400,700,400italic' => 'Economica',
    'Playball' => 'Playball',
    'Kreon:400,300,700' => 'Kreon',
    'Didact+Gothic' => 'Didact Gothic',
    'Handlee' => 'Handlee',
    'Cookie' => 'Cookie',
    'Jura:400,300,500,600' => 'Jura',
    'Amaranth:400,400italic,700' => 'Amaranth',
    'Fugaz+One' => 'Fugaz One',
    'Tangerine:400,700' => 'Tangerine',
    'Squada+One' => 'Squada One',
    'Great+Vibes' => 'Great Vibes',
    'Six+Caps' => 'Six Caps',
    'Limelight' => 'Limelight',
    'Carme' => 'Carme',
    'Cherry+Cream+Soda' => 'Cherry Cream Soda',
    'Aldrich' => 'Aldrich',
    'Alex+Brush' => 'Alex Brush',
    'Fredericka+the+Great' => 'Fredericka the Great'
);

if ( ! function_exists( 'ecommerce_gem_get_option' ) ) :

    /**
     * Get theme option.
     *
     * @since 1.0.0
     *
     * @param string $key Option key.
     * @return mixed Option value.
     */
    function ecommerce_gem_get_option( $key ) {

        if ( empty( $key ) ) {

            return;

        }

        $ecommerce_gem_default = ecommerce_gem_get_default_theme_options();

        $default = ( isset( $ecommerce_gem_default[ $key ] ) ) ? $ecommerce_gem_default[ $key ] : '';
        $theme_options = get_theme_mod( 'theme_options', $ecommerce_gem_default );
        $theme_options = array_merge( $ecommerce_gem_default, $theme_options );
        $value = '';

        if ( isset( $theme_options[ $key ] ) ) {
            $value = $theme_options[ $key ];
        }

        return $value;

    }

endif;

if ( ! function_exists( 'ecommerce_gem_get_default_theme_options' ) ) :

    /**
     * Get default theme options.
     *
     * @since 1.0.0
     *
     * @return array Default theme options.
     */
    function ecommerce_gem_get_default_theme_options() {

        $defaults = array();

        //primary color
        $defaults['primary_color']              = '#fa6161';
        $defaults['site_title_color']           = '#11101d';
        $defaults['site_tagline_color']         = '#515151';
        $defaults['top_header_bg']              = '#11101d';
        $defaults['top_header_color']           = '#ffffff';
        $defaults['top_header_divider_color']   = '#22202e';
        $defaults['top_header_search_bg']       = '#31303c';
        $defaults['main_menu_color']            = '#11101d';
        $defaults['active_hover_color']         = '#fa6161';
        $defaults['mobile_menu_bg']             = '#fa6161';
        $defaults['breadcrumb_bg']              = '#fa6161';
        $defaults['breadcrumb_color']           = '#ffffff';
        $defaults['top_footer_bg']              = '#100e1c';
        $defaults['top_footer_title_color']     = '#ffffff';
        $defaults['top_footer_text_color']      = '#918f9d';
        $defaults['top_footer_social_icon_bg']  = '#272535';
        $defaults['bottom_footer_bg']           = '#100e1c';
        $defaults['bottom_footer_text']         = '#918f9d';
        $defaults['scroll_top_bg']              = '#fa6161';
        $defaults['reset_colors']               = false;

        // Header.
        $defaults['site_identity']      = 'title-text';
        $defaults['show_top_header']    = false;
        $defaults['top_left_type']      = 'store-info';
        $defaults['show_social_icons']  = false;
        $defaults['show_login_logout']  = true;
        $defaults['login_text']         = esc_html__( 'Login / Register', 'ecommerce-gem-plus' );
        $defaults['login_icon']         = 'fa-user-o';
        $defaults['show_cart']          = true;
        $defaults['cart_icon']          = 'fa-shopping-cart';
        $defaults['show_wishlist']      = false;
        $defaults['wishlist_icon']      = 'fa-heart';
        $defaults['show_top_search']    = true;
        $defaults['search_products_text']  = esc_html__( 'Search Products ...', 'ecommerce-gem-plus' );
        $defaults['select_category_text']  = esc_html__( 'Select Category', 'ecommerce-gem-plus' );

        // Layout.
        $defaults['enable_sticky_sidebar']  = true;
        $defaults['global_layout']          = 'right-sidebar';
        $defaults['excerpt_length']         = 40;
        $defaults['readmore_text']          = esc_html__( 'Read More', 'ecommerce-gem-plus' );

        // Shop page
        $defaults['shop_layout']            = 'right-sidebar';
        $defaults['product_per_page']       = 9;
        $defaults['product_number']         = 3;
        $defaults['hide_product_sorting']   = false;
        $defaults['enable_gallery_zoom']    = false;
        $defaults['show_detail_icon']       = false;
        $defaults['disable_related_products']= false;

        // Footer.
        $defaults['copyright_text']     = esc_html__( 'Copyright &copy; All rights reserved.', 'ecommerce-gem-plus' );
        $defaults['powerby_text']       = esc_html__( 'eCommerce Gem Plus by', 'ecommerce-gem-plus' ) . ' <a target="_blank" rel="designer" href="https://www.prodesigns.com/">ProDesigns</a>';

        // Breadcrumb.
        $defaults['breadcrumb_type']    = 'simple';
        $defaults['breadcrumb_text']    = esc_html__( 'Home', 'ecommerce-gem-plus' );

        // Slider.
        $defaults['slider_status']                  = false;
        $defaults['slider_type']                    = 'pages';
        $defaults['button_text_1']                  = esc_html__( 'Shop Now', 'ecommerce-gem-plus' );
        $defaults['button_text_2']                  = esc_html__( 'Shop Now', 'ecommerce-gem-plus' );
        $defaults['button_text_3']                  = esc_html__( 'Shop Now', 'ecommerce-gem-plus' );
        $defaults['button_text_4']                  = esc_html__( 'Shop Now', 'ecommerce-gem-plus' );
        $defaults['button_text_5']                  = esc_html__( 'Shop Now', 'ecommerce-gem-plus' );
        $defaults['caption_position_1']             = 'left';
        $defaults['caption_position_2']             = 'left';
        $defaults['caption_position_3']             = 'left';
        $defaults['caption_position_4']             = 'left';
        $defaults['caption_position_5']             = 'left';
        $defaults['slider_autoplay_status']         = true;
        $defaults['slider_pager_status']            = true;
        $defaults['slider_overlay_status']          = true;
        $defaults['slider_transition_effect']       = 'fade';
        $defaults['slider_transition_delay']        = 3;

        // Fonts
        $defaults['body_font']                  = 'Barlow:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i';
        $defaults['site_identity_font']         = 'Barlow:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i';
        $defaults['menu_font']                  = 'Barlow:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i';
        $defaults['heading_font']               = 'Barlow:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i';
        $defaults['paragraph_font']             = 'Barlow:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i';

        $defaults['reset_fonts']                = false;
        $defaults['enable_sticky']              = false;

        return $defaults;
    }

endif;

//=============================================================
// Get all options in array
//=============================================================
if ( ! function_exists( 'ecommerce_gem_get_options' ) ) :

    /**
     * Get all theme options in array.
     *
     * @since 1.0.0
     *
     * @return array Theme options.
     */
    function ecommerce_gem_get_options() {

        $value = array();

        $value = get_theme_mods();

        return $value;

    }

endif;

//=============================================================
// Get only color options in array
//=============================================================
if ( ! function_exists( 'ecommerce_gem_get_default_color_options' ) ) :

    /**
     * Get default color options.
     *
     * @since 1.0.0
     *
     * @return array Default theme options.
     */
    function ecommerce_gem_get_default_color_options() {

        $defaults = array();

        $defaults['primary_color']              = '#fa6161';
        $defaults['site_title_color']           = '#11101d';
        $defaults['site_tagline_color']         = '#515151';
        $defaults['top_header_bg']              = '#11101d';
        $defaults['top_header_color']           = '#ffffff';
        $defaults['top_header_divider_color']   = '#22202e';
        $defaults['top_header_search_bg']       = '#31303c';
        $defaults['main_menu_color']            = '#11101d';
        $defaults['active_hover_color']         = '#fa6161';
        $defaults['mobile_menu_bg']             = '#fa6161';
        $defaults['breadcrumb_bg']              = '#fa6161';
        $defaults['breadcrumb_color']           = '#ffffff';
        $defaults['top_footer_bg']              = '#100e1c';
        $defaults['top_footer_title_color']     = '#ffffff';
        $defaults['top_footer_text_color']      = '#918f9d';
        $defaults['top_footer_social_icon_bg']  = '#272535';
        $defaults['bottom_footer_bg']           = '#100e1c';
        $defaults['bottom_footer_text']         = '#918f9d';
        $defaults['scroll_top_bg']              = '#fa6161';
        $defaults['reset_colors']               = false;

        return $defaults;
    }

endif;

//=============================================================
// Color reset
//=============================================================
if ( ! function_exists( 'ecommerce_gem_reset_colors' ) ) :

    function ecommerce_gem_reset_colors( $data ) {

            $reset_colors = ecommerce_gem_get_option( 'reset_colors' );

            if ( true == $reset_colors ) {

                $options = ecommerce_gem_get_options();

                $options['theme_options']['reset_colors']       = false;

                $color_settings = ecommerce_gem_get_default_color_options();

                if ( ! empty( $color_settings ) ) {

                    foreach ( $color_settings as $key => $val ) {

                        $options['theme_options'][ $key ] = $val;

                    }
                }

                update_option( 'theme_mods_ecommerce-gem-plus', $options );

            }

    }

endif;

add_action( 'customize_save_after', 'ecommerce_gem_reset_colors' );

//=============================================================
// Get only font options in array
//=============================================================
if ( ! function_exists( 'ecommerce_gem_get_default_font_options' ) ) :

    /**
     * Get default font options.
     *
     * @since 1.0.0
     *
     * @return array Default theme options.
     */
    function ecommerce_gem_get_default_font_options() {

        $defaults = array();

        $defaults['body_font']                  = 'Barlow:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i';
        $defaults['site_identity_font']         = 'Barlow:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i';
        $defaults['menu_font']                  = 'Barlow:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i';
        $defaults['heading_font']               = 'Barlow:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i';
        $defaults['paragraph_font']             = 'Barlow:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i';

        $defaults['reset_fonts']                = false;

        return $defaults;
    }

endif;

//=============================================================
// Font reset
//=============================================================
if ( ! function_exists( 'ecommerce_gem_reset_fonts' ) ) :

    function ecommerce_gem_reset_fonts( $data ) {

            $reset_fonts = ecommerce_gem_get_option( 'reset_fonts' );

            if ( true == $reset_fonts ) {

                $options = ecommerce_gem_get_options();

                $options['theme_options']['reset_fonts'] = false;

                $font_settings = ecommerce_gem_get_default_font_options();

                if ( ! empty( $font_settings ) ) {

                    foreach ( $font_settings as $key => $val ) {

                        $options['theme_options'][ $key ] = $val;

                    }
                }

                update_option( 'theme_mods_ecommerce-gem-plus', $options );

            }

    }

endif;

add_action( 'customize_save_after', 'ecommerce_gem_reset_fonts' );